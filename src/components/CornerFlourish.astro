---
// Decorative corner flourish - like an old book page corner
interface Props {
  position?: 'bottom-right' | 'bottom-left';
}

const { position = 'bottom-right' } = Astro.props;
---

<div class={`flourish flourish--${position}`}>
  <svg viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
    <!-- Page curl effect -->
    <path
      d="M80 80 L80 40 Q75 45 70 42 Q60 38 55 48 Q50 58 40 55 Q30 52 25 60 Q20 68 10 65 Q5 63 0 80 Z"
      fill="var(--color-bg-subtle)"
      stroke="var(--color-accent)"
      stroke-width="0.5"
    />
    <!-- Decorative curl -->
    <path
      d="M70 50 Q65 55 58 52 Q52 49 50 56 Q48 63 42 60 Q36 57 32 64"
      stroke="var(--color-accent)"
      stroke-width="1"
      fill="none"
      opacity="0.6"
    />
    <!-- Small decorative spiral -->
    <path
      d="M32 64 Q28 66 26 70 Q24 74 28 76 Q32 78 35 74 Q38 70 34 68"
      stroke="var(--color-accent)"
      stroke-width="0.8"
      fill="none"
      opacity="0.5"
    />
  </svg>
</div>

<style>
  .flourish {
    position: fixed;
    width: 60px;
    height: 60px;
    pointer-events: none;
    z-index: 10;
    opacity: 0.7;
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .flourish:hover {
    opacity: 1;
    transform: scale(1.05);
    pointer-events: auto;
  }

  .flourish--bottom-right {
    bottom: 0;
    right: 0;
  }

  .flourish--bottom-left {
    bottom: 0;
    left: 0;
    transform: scaleX(-1);
  }

  .flourish--bottom-left:hover {
    transform: scaleX(-1) scale(1.05);
  }

  .flourish svg {
    width: 100%;
    height: 100%;
  }

  /* Subtle animation in night mode */
  [data-theme="night"] .flourish {
    opacity: 0.5;
  }

  [data-theme="night"] .flourish:hover {
    opacity: 0.8;
    filter: drop-shadow(0 0 4px var(--color-accent));
  }

  /* Hide on very small screens */
  @media (max-width: 500px) {
    .flourish {
      display: none;
    }
  }
</style>
